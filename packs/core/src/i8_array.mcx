import {
  core::bool::!,
  core::i32::=,
}

export builtin def size(i8_array) : i32 :=
  let _ as end := /"data modify storage mcx: int append value 0";
  /"execute store result storage mcx: int[-1] int 1 run data get storage mcx: byte_array[-1]";

export def is_empty(a : i8_array) : bool := size(a) = 0;

test def size_0 := size([i8;]) = 0;

test def size_1 := size([i8; 1i8]) = 1;

test def is_empty_0 := is_empty([i8;]);

test def !_is_empty_1 := !(is_empty([i8; 1i8]));
