import {
  core::bool::!,
  core::i32::=,
}

export builtin def size(i64_array) : i32 :=
  let _ as end := /"data modify storage mcx: int append value 0";
  /"execute store result storage mcx: int[-1] int 1 run data get storage mcx: long_array[-1]";

export def is_empty(a : i64_array) : bool := size(a) = 0;

test def size_0 := size([i64;]) = 0;

test def size_1 := size([i64; 1i64]) = 1;

test def is_empty_0 := is_empty([i64;]);

test def !_is_empty_1 := !(is_empty([i64; 1i64]));
